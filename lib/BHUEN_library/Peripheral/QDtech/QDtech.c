#include "QDtech.h"
#include "STM32_head.h"
/***********************************
file：QDtech.c
作者：苏子朗
时间：2019/7/19
本代码仅供北华大学嵌入式系统实验室使用
***********************************/

#define QDtech_MOSI B15
#define QDtech_SCL  B13
#define QDtech_CS   B12
#define QDtech_RS   B11
#define QDtech_RST  B10
#define QDtech_LED  B9//LED针脚，可改

int Left_Right_Side;

#define USE_ONCHIP_FLASH_FONT 1
const unsigned char asc16[]={
#if USE_ONCHIP_FLASH_FONT
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //" "
0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,0x10,0x10,0x00,0x00, //"!"
0x00,0x00,0x6C,0x6C,0x24,0x24,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00, //"""
0x00,0x24,0x24,0x24,0x24,0xFE,0x48,0x48,0x48,0x48,0xFC,0x90,0x90,0x90,0x90,0x00, //"#"
0x00,0x10,0x3C,0x54,0x92,0x90,0x50,0x38,0x14,0x12,0x12,0x92,0x54,0x78,0x10,0x00, //"$"
0x00,0x00,0x22,0x5C,0x94,0xA8,0x48,0x10,0x10,0x24,0x2A,0x52,0x54,0x88,0x00,0x00, //"%"
0x00,0x00,0x30,0x48,0x48,0x50,0x20,0x6E,0x54,0x94,0x8C,0x88,0x8A,0x74,0x00,0x00, //"&"
0x00,0x00,0x30,0x30,0x10,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //"'"
0x00,0x04,0x08,0x10,0x10,0x20,0x20,0x20,0x20,0x20,0x20,0x10,0x10,0x08,0x04,0x00, //"("
0x00,0x80,0x40,0x20,0x20,0x10,0x10,0x10,0x10,0x10,0x10,0x20,0x20,0x40,0x80,0x00, //")"
0x00,0x00,0x00,0x00,0x10,0x54,0x38,0x10,0x38,0x54,0x10,0x00,0x00,0x00,0x00,0x00, //"*"
0x00,0x00,0x00,0x10,0x10,0x10,0x10,0xFE,0x10,0x10,0x10,0x10,0x00,0x00,0x00,0x00, //"+"
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x20,0x00, //","
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //"-"
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x00,0x00, //"."
0x00,0x00,0x04,0x04,0x08,0x08,0x10,0x10,0x20,0x20,0x40,0x40,0x80,0x80,0x00,0x00, //"/"
0x00,0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00, //"0"
0x00,0x00,0x10,0x70,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x7C,0x00,0x00, //"1"
0x00,0x00,0x38,0x44,0x82,0x82,0x04,0x08,0x10,0x20,0x40,0x82,0x84,0xFC,0x00,0x00, //"2"
0x00,0x00,0x38,0x44,0x82,0x02,0x04,0x38,0x04,0x02,0x02,0x82,0x44,0x38,0x00,0x00, //"3"
0x00,0x00,0x04,0x0C,0x14,0x14,0x24,0x24,0x44,0x44,0xFE,0x04,0x04,0x0E,0x00,0x00, //"4"
0x00,0x00,0xFC,0x80,0x80,0x80,0xB8,0xC4,0x82,0x02,0x02,0x82,0x84,0x78,0x00,0x00, //"5"
0x00,0x00,0x3C,0x42,0x82,0x80,0xB8,0xC4,0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00, //"6"
0x00,0x00,0x7E,0x42,0x82,0x04,0x04,0x08,0x08,0x08,0x10,0x10,0x10,0x10,0x00,0x00, //"7"
0x00,0x00,0x38,0x44,0x82,0x82,0x44,0x38,0x44,0x82,0x82,0x82,0x44,0x38,0x00,0x00, //"8"
0x00,0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x46,0x3A,0x02,0x82,0x44,0x38,0x00,0x00, //"9"
0x00,0x00,0x00,0x00,0x10,0x10,0x00,0x00,0x00,0x00,0x10,0x10,0x00,0x00,0x00,0x00, //":"
0x00,0x00,0x00,0x00,0x10,0x10,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x20,0x00,0x00, //";"
0x00,0x00,0x00,0x00,0x06,0x18,0x60,0x80,0x60,0x18,0x06,0x00,0x00,0x00,0x00,0x00, //"<"
0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0x00,0x00,0xFE,0x00,0x00,0x00,0x00,0x00,0x00, //"="
0x00,0x00,0x00,0x00,0xC0,0x30,0x0C,0x02,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00, //">"
0x00,0x38,0x44,0x82,0x82,0x02,0x04,0x08,0x10,0x10,0x10,0x00,0x10,0x10,0x00,0x00, //"?"
0x00,0x00,0x38,0x44,0x82,0x9A,0xAA,0xAA,0xAA,0xAA,0xAA,0x96,0x80,0x42,0x3C,0x00, //"@"
0x00,0x00,0x10,0x10,0x10,0x28,0x28,0x28,0x44,0x44,0x7C,0x44,0x44,0xEE,0x00,0x00, //"A"
0x00,0x00,0xFC,0x42,0x42,0x42,0x42,0x7C,0x42,0x42,0x42,0x42,0x42,0xFC,0x00,0x00, //"B"
0x00,0x00,0x3C,0x44,0x82,0x80,0x80,0x80,0x80,0x80,0x82,0x82,0x44,0x38,0x00,0x00, //"C"
0x00,0x00,0xF8,0x44,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x44,0xF8,0x00,0x00, //"D"
0x00,0x00,0xFC,0x44,0x42,0x40,0x44,0x7C,0x44,0x40,0x40,0x42,0x44,0xFC,0x00,0x00, //"E"
0x00,0x00,0xFC,0x44,0x42,0x40,0x44,0x7C,0x44,0x40,0x40,0x40,0x40,0xF0,0x00,0x00, //"F"
0x00,0x00,0x34,0x4C,0x82,0x80,0x80,0x80,0x8E,0x84,0x84,0x84,0x4C,0x34,0x00,0x00, //"G"
0x00,0x00,0xEE,0x44,0x44,0x44,0x44,0x7C,0x44,0x44,0x44,0x44,0x44,0xEE,0x00,0x00, //"H"
0x00,0x00,0x7C,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x7C,0x00,0x00, //"I"
0x00,0x00,0x3E,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x88,0x88,0x70,0x00,0x00, //"J"
0x00,0x00,0xEE,0x44,0x48,0x48,0x50,0x60,0x50,0x48,0x48,0x44,0x44,0xEE,0x00,0x00, //"K"
0x00,0x00,0xE0,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x42,0x44,0xFC,0x00,0x00, //"L"
0x00,0x00,0xC6,0x44,0x6C,0x6C,0x6C,0x54,0x54,0x54,0x44,0x44,0x44,0xEE,0x00,0x00, //"M"
0x00,0x00,0xCE,0x44,0x64,0x64,0x64,0x54,0x54,0x4C,0x4C,0x4C,0x44,0xE4,0x00,0x00, //"N"
0x00,0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00, //"O"
0x00,0x00,0xF8,0x44,0x42,0x42,0x42,0x44,0x78,0x40,0x40,0x40,0x40,0xE0,0x00,0x00, //"P"
0x00,0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0xBA,0x44,0x3C,0x02,0x00, //"Q"
0x00,0x00,0xF0,0x48,0x44,0x44,0x44,0x48,0x70,0x48,0x44,0x44,0x44,0xE6,0x00,0x00, //"R"
0x00,0x00,0x3C,0x44,0x82,0x80,0x40,0x30,0x0C,0x02,0x02,0x82,0x44,0x78,0x00,0x00, //"S"
0x00,0x00,0x7C,0x54,0x92,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x38,0x00,0x00, //"T"
0x00,0x00,0xEE,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x38,0x00,0x00, //"U"
0x00,0x00,0xEE,0x44,0x44,0x44,0x44,0x28,0x28,0x28,0x28,0x10,0x10,0x10,0x00,0x00, //"V"
0x00,0x00,0xEE,0x44,0x54,0x54,0x54,0x54,0x54,0x54,0x28,0x28,0x28,0x28,0x00,0x00, //"W"
0x00,0x00,0xEE,0x44,0x44,0x28,0x28,0x10,0x10,0x28,0x28,0x44,0x44,0xEE,0x00,0x00, //"X"
0x00,0x00,0xEE,0x44,0x44,0x28,0x28,0x28,0x10,0x10,0x10,0x10,0x10,0x38,0x00,0x00, //"Y"
0x00,0x00,0x7E,0x44,0x84,0x08,0x08,0x10,0x20,0x20,0x40,0x82,0x84,0xFC,0x00,0x00, //"Z"
0x00,0x1C,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x1C,0x00, //"["
0x00,0x00,0xEE,0x44,0x54,0x54,0xFE,0x54,0x54,0x54,0x28,0x28,0x28,0x28,0x00,0x00, //"\"
0x00,0x70,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x70,0x00, //"]"
0x00,0x30,0x48,0x84,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //"^"
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0x00, //"_"
0x00,0x40,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //"`"
0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x84,0x04,0x7C,0x84,0x84,0x8C,0x76,0x00,0x00, //"a"
0x00,0x00,0xC0,0x40,0x40,0x40,0x58,0x64,0x42,0x42,0x42,0x42,0x64,0x58,0x00,0x00, //"b"
0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x44,0x80,0x80,0x80,0x80,0x44,0x38,0x00,0x00, //"c"
0x00,0x00,0x0C,0x04,0x04,0x04,0x34,0x4C,0x84,0x84,0x84,0x84,0x4C,0x36,0x00,0x00, //"d"
0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x84,0x84,0xFC,0x80,0x80,0x84,0x78,0x00,0x00, //"e"
0x00,0x00,0x18,0x24,0x20,0x20,0xF8,0x20,0x20,0x20,0x20,0x20,0x20,0x70,0x00,0x00, //"f"
0x00,0x00,0x00,0x00,0x00,0x00,0x3A,0x44,0x44,0x78,0x80,0x7C,0x82,0x82,0x7C,0x00, //"g"
0x00,0x00,0xC0,0x40,0x40,0x40,0x58,0x64,0x44,0x44,0x44,0x44,0x44,0xEE,0x00,0x00, //"h"
0x00,0x00,0x10,0x10,0x00,0x00,0x30,0x10,0x10,0x10,0x10,0x10,0x10,0x38,0x00,0x00, //"i"
0x00,0x00,0x10,0x10,0x00,0x00,0x30,0x10,0x10,0x10,0x10,0x10,0x10,0x90,0x60,0x00, //"j"
0x00,0x00,0xC0,0x40,0x40,0x40,0x5C,0x48,0x50,0x60,0x50,0x48,0x44,0xEE,0x00,0x00, //"k"
0x00,0x00,0x30,0x10,0x10,0x10,0x10,0x11,0x10,0x10,0x10,0x10,0x10,0x39,0x00,0x00, //"l"
0x00,0x00,0x00,0x00,0x00,0x00,0xAC,0xD2,0x92,0x92,0x92,0x92,0x92,0xD6,0x00,0x00, //"m"
0x00,0x00,0x00,0x00,0x00,0x00,0x58,0xE4,0x44,0x44,0x44,0x44,0x44,0xEE,0x00,0x00, //"n"
0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00, //"o"
0x00,0x00,0x00,0x00,0x00,0x00,0xD8,0x64,0x42,0x42,0x42,0x64,0x58,0x40,0xE0,0x00, //"p"
0x00,0x00,0x00,0x00,0x00,0x00,0x36,0x4C,0x84,0x84,0x84,0x4C,0x34,0x04,0x0E,0x00, //"q"
0x00,0x00,0x00,0x00,0x00,0x00,0x6C,0x30,0x20,0x20,0x20,0x20,0x20,0x70,0x00,0x00, //"r"
0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x88,0x84,0x60,0x18,0x84,0x44,0x78,0x00,0x00, //"s"
0x00,0x00,0x00,0x20,0x20,0x20,0xF8,0x20,0x20,0x20,0x20,0x20,0x24,0x18,0x00,0x00, //"t"
0x00,0x00,0x00,0x00,0x00,0x00,0xC6,0x42,0x42,0x42,0x42,0x42,0x46,0x3A,0x00,0x00, //"u"
0x00,0x00,0x00,0x00,0x00,0x00,0xEE,0x44,0x44,0x28,0x28,0x28,0x10,0x10,0x00,0x00, //"v"
0x00,0x00,0x00,0x00,0x00,0x00,0xEE,0x44,0x44,0x54,0x54,0x28,0x28,0x28,0x00,0x00, //"w"
0x00,0x00,0x00,0x00,0x00,0x00,0xEE,0x44,0x28,0x10,0x10,0x28,0x44,0xEE,0x00,0x00, //"x"
0x00,0x00,0x00,0x00,0x00,0x00,0xEE,0x44,0x44,0x28,0x28,0x10,0x10,0xA0,0xC0,0x00, //"y"
0x00,0x00,0x00,0x00,0x00,0x00,0x7E,0x44,0x88,0x10,0x20,0x42,0x84,0xFC,0x00,0x00, //"z"
0x00,0x0C,0x10,0x10,0x10,0x10,0x10,0x60,0x10,0x10,0x10,0x10,0x10,0x10,0x0C,0x00, //"{"
0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x00, //"|"
0x00,0xC0,0x20,0x20,0x20,0x20,0x20,0x18,0x20,0x20,0x20,0x20,0x20,0x20,0xC0,0x00, //"}"
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x72,0x8C,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //"~"
#endif
0x00,
};

struct typFNT_GB162
{
       unsigned char Index[2];	
       char Msk[32];
};
//宋体5号
#define hz16_num   50
//闪耀电子科技液晶测试程序颜色填充文字显示图片触摸输入全程技术支持专注批发成功
const struct typFNT_GB162 hz16[] = {
#if USE_ONCHIP_FLASH_FONT
"电",0x02,0x00,0x02,0x00,0x02,0x00,0x7F,0xF0,0x42,0x10,0x42,0x10,0x7F,0xF0,0x42,0x10,0x42,0x10,0x7F,0xF0,0x42,0x00,0x02,0x08,0x02,0x08,0x01,0xF8,0x00,0x00,0x00,0x00,
"子",0x7F,0xF0,0x00,0x20,0x00,0x40,0x00,0x80,0x01,0x00,0x02,0x00,0xFF,0xF8,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x0E,0x00,0x00,0x00,0x00,0x00,
"全",0x01,0x00,0x01,0x00,0x02,0x80,0x04,0x40,0x08,0x20,0x10,0x10,0x2F,0xE8,0xC1,0x06,0x01,0x00,0x01,0x00,0x1F,0xF0,0x01,0x00,0x01,0x00,0x01,0x00,0x7F,0xFC,0x00,0x00,
"动",0x00,0x40,0x00,0x40,0x7C,0x40,0x00,0x40,0x01,0xFC,0x00,0x44,0xFE,0x44,0x20,0x44,0x20,0x44,0x20,0x84,0x48,0x84,0x44,0x84,0xFD,0x04,0x45,0x04,0x02,0x28,0x04,0x10,
"技",0x10,0x20,0x10,0x20,0x10,0x20,0x13,0xFE,0xFC,0x20,0x10,0x20,0x10,0x20,0x15,0xFC,0x18,0x84,0x30,0x88,0xD0,0x48,0x10,0x50,0x10,0x20,0x10,0x50,0x51,0x88,0x26,0x06,
"术",0x01,0x00,0x01,0x20,0x01,0x10,0x01,0x10,0x7F,0xFC,0x03,0x80,0x05,0x40,0x05,0x40,0x09,0x20,0x11,0x10,0x21,0x08,0x41,0x04,0x01,0x02,0x01,0x00,0x01,0x00,0x01,0x00,
"液",0x00,0x80,0x40,0x40,0x27,0xF8,0x11,0x40,0x01,0x40,0x82,0x78,0x42,0x48,0x16,0xA8,0x1A,0xD0,0x23,0x50,0x22,0x20,0x42,0x20,0x42,0x50,0x02,0x88,0x00,0x00,0x00,0x00,
"晶",0x3F,0xE0,0x20,0x20,0x3F,0xE0,0x20,0x20,0x3F,0xE0,0x00,0x00,0xFD,0xF8,0x85,0x08,0x85,0x08,0xFD,0xF8,0x85,0x08,0x85,0x08,0xFD,0xF8,0x85,0x08,0x00,0x00,0x00,0x00,
"测",0x00,0x08,0x4F,0x88,0x28,0x88,0x0A,0xA8,0x8A,0xA8,0x4A,0xA8,0x0A,0xA8,0x2A,0xA8,0x2A,0xA8,0x42,0x28,0x45,0x08,0x84,0x88,0x88,0x88,0x10,0x38,0x00,0x00,0x00,0x00,
"试",0x40,0x50,0x20,0x48,0x20,0x40,0x0F,0xF8,0x00,0x40,0xE0,0x40,0x27,0x40,0x22,0x40,0x22,0x40,0x22,0x20,0x2A,0x28,0x33,0xA8,0x2E,0x18,0x00,0x08,0x00,0x00,0x00,0x00,
"程",0x00,0x00,0x1B,0xF0,0xE2,0x10,0x22,0x10,0x23,0xF0,0xF8,0x00,0x20,0x00,0x33,0xF0,0x68,0x80,0x60,0x80,0xA3,0xF0,0x20,0x80,0x20,0x80,0x27,0xF8,0x00,0x00,0x00,0x00,
"序",0x02,0x00,0x01,0x00,0x3F,0xF8,0x20,0x00,0x2F,0xF0,0x20,0x20,0x22,0x40,0x21,0x80,0x3F,0xF8,0x20,0x88,0x20,0x90,0x40,0x80,0x40,0x80,0x83,0x80,0x00,0x00,0x00,0x00,
"颜",0x20,0x00,0x10,0xF8,0x7E,0x20,0x44,0x40,0x28,0xF8,0x7E,0x88,0x48,0xA8,0x50,0xA8,0x64,0xA8,0x48,0xA8,0x72,0xA8,0x84,0x50,0x18,0x88,0x61,0x08,0x00,0x00,0x00,0x00,
"色",0x10,0x00,0x10,0x00,0x3F,0xE0,0x40,0x40,0x80,0x80,0x7F,0xF0,0x42,0x10,0x42,0x10,0x42,0x10,0x7F,0xF0,0x40,0x00,0x40,0x08,0x40,0x08,0x3F,0xF8,0x00,0x00,0x00,0x00,
"填",0x20,0x80,0x2F,0xF8,0x20,0x80,0x27,0xF0,0xF4,0x10,0x27,0xF0,0x24,0x10,0x27,0xF0,0x24,0x10,0x27,0xF0,0x34,0x10,0xCF,0xF8,0x02,0x20,0x04,0x10,0x00,0x00,0x00,0x00,
"充",0x04,0x00,0x02,0x00,0xFF,0xF8,0x08,0x00,0x10,0x40,0x20,0x20,0x7F,0xF0,0x08,0x90,0x08,0x80,0x08,0x80,0x08,0x80,0x10,0x88,0x20,0x88,0xC0,0x78,0x00,0x00,0x00,0x00,
"文",0x04,0x00,0x02,0x00,0x02,0x00,0xFF,0xF8,0x10,0x40,0x10,0x40,0x08,0x80,0x08,0x80,0x05,0x00,0x02,0x00,0x05,0x00,0x08,0x80,0x30,0x60,0xC0,0x18,0x00,0x00,0x00,0x00,
"字",0x04,0x00,0x02,0x00,0xFF,0xF8,0x80,0x08,0x80,0x08,0x3F,0xC0,0x00,0x80,0x01,0x00,0x02,0x00,0xFF,0xF8,0x02,0x00,0x02,0x00,0x02,0x00,0x0E,0x00,0x00,0x00,0x00,0x00,
"显",0x3F,0xE0,0x20,0x20,0x20,0x20,0x3F,0xE0,0x20,0x20,0x20,0x20,0x3F,0xE0,0x08,0x80,0x48,0x90,0x28,0x90,0x28,0xA0,0x08,0x80,0x08,0x80,0xFF,0xF8,0x00,0x00,0x00,0x00,
"示",0x00,0x00,0x3F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xF8,0x02,0x00,0x12,0x40,0x12,0x20,0x22,0x10,0x42,0x08,0x82,0x08,0x02,0x00,0x0E,0x00,0x00,0x00,0x00,0x00,
"图",0x7F,0xF8,0x40,0x08,0x44,0x08,0x47,0xC8,0x48,0x48,0x54,0x88,0x43,0x08,0x4C,0xC8,0x73,0x38,0x40,0x88,0x4C,0x08,0x43,0x08,0x40,0x88,0x7F,0xF8,0x00,0x00,0x00,0x00,
"片",0x00,0x80,0x20,0x80,0x20,0x80,0x20,0x80,0x3F,0xF0,0x20,0x00,0x20,0x00,0x20,0x00,0x3F,0xC0,0x20,0x40,0x20,0x40,0x20,0x40,0x40,0x40,0x80,0x40,0x00,0x00,0x00,0x00,
"触",0x20,0x40,0x38,0x40,0x48,0x40,0x91,0xF0,0x7D,0x50,0x55,0x50,0x55,0x50,0x7D,0x50,0x55,0xF0,0x54,0x40,0x7C,0x40,0x54,0x50,0x57,0xF8,0x8C,0x08,0x00,0x00,0x00,0x00,
"摸",0x22,0x20,0x22,0x20,0x27,0xF8,0xFA,0x20,0x27,0xF0,0x24,0x10,0x27,0xF0,0x34,0x10,0xE7,0xF0,0x20,0x80,0x2F,0xF8,0x21,0x40,0x22,0x20,0xEC,0x18,0x00,0x00,0x00,0x00,
"输",0x40,0x80,0x41,0x40,0xF2,0x20,0x44,0x10,0x8B,0xE8,0xA0,0x00,0xF7,0x88,0x24,0xA8,0x27,0xA8,0x34,0xA8,0xE7,0xA8,0x24,0xA8,0x24,0x88,0x25,0xB8,0x00,0x00,0x00,0x00,
"入",0x08,0x00,0x04,0x00,0x04,0x00,0x02,0x00,0x02,0x00,0x05,0x00,0x05,0x00,0x08,0x80,0x08,0x80,0x10,0x40,0x10,0x40,0x20,0x20,0x40,0x10,0x80,0x08,0x00,0x00,0x00,0x00,
"全",0x02,0x00,0x02,0x00,0x05,0x00,0x08,0x80,0x10,0x40,0x20,0x20,0xDF,0xD8,0x02,0x00,0x02,0x00,0x1F,0xC0,0x02,0x00,0x02,0x00,0x02,0x00,0xFF,0xF8,0x00,0x00,0x00,0x00,
"程",0x00,0x00,0x1B,0xF0,0xE2,0x10,0x22,0x10,0x23,0xF0,0xF8,0x00,0x20,0x00,0x33,0xF0,0x68,0x80,0x60,0x80,0xA3,0xF0,0x20,0x80,0x20,0x80,0x27,0xF8,0x00,0x00,0x00,0x00,
"技",0x20,0x80,0x20,0x80,0x20,0x80,0xF7,0xF0,0x20,0x80,0x20,0x80,0x27,0xE0,0x32,0x20,0xE2,0x20,0x21,0x40,0x20,0x80,0x21,0x40,0x22,0x20,0xEC,0x18,0x00,0x00,0x00,0x00,
"术",0x02,0x00,0x02,0x40,0x02,0x20,0x02,0x00,0xFF,0xF8,0x07,0x00,0x0A,0x80,0x0A,0x80,0x12,0x40,0x22,0x20,0x42,0x10,0x82,0x08,0x02,0x00,0x02,0x00,0x00,0x00,0x00,0x00,
"支",0x02,0x00,0x02,0x00,0xFF,0xF8,0x02,0x00,0x02,0x00,0x7F,0xE0,0x10,0x20,0x10,0x40,0x08,0x80,0x05,0x00,0x02,0x00,0x05,0x00,0x18,0xC0,0xE0,0x38,0x00,0x00,0x00,0x00,
"持",0x20,0x80,0x20,0x80,0x23,0xF0,0xF8,0x80,0x20,0x80,0x27,0xF8,0x28,0x20,0x30,0x20,0xE7,0xF8,0x20,0x20,0x22,0x20,0x21,0x20,0x20,0x20,0xE0,0xE0,0x00,0x00,0x00,0x00,
"专",0x02,0x00,0x02,0x00,0x7F,0xF0,0x04,0x00,0x04,0x00,0xFF,0xF8,0x08,0x00,0x10,0x00,0x3F,0xE0,0x00,0x20,0x00,0x40,0x1C,0x80,0x03,0x00,0x00,0x80,0x00,0x00,0x00,0x00,
"注",0x01,0x00,0x40,0x80,0x20,0x00,0x17,0xF0,0x00,0x80,0x80,0x80,0x40,0x80,0x00,0x80,0x17,0xF0,0x10,0x80,0x20,0x80,0x20,0x80,0x40,0x80,0x4F,0xF8,0x00,0x00,0x00,0x00,
"批",0x20,0x40,0x24,0x40,0x24,0x40,0xF4,0x48,0x24,0x50,0x27,0x60,0x24,0x40,0x34,0x40,0xE4,0x40,0x24,0x40,0x24,0x40,0x25,0x48,0x26,0x48,0xE4,0x38,0x00,0x00,0x00,0x00,
"发",0x02,0x00,0x22,0x20,0x22,0x10,0x44,0x00,0x7F,0xF8,0x04,0x00,0x08,0x00,0x0F,0xE0,0x14,0x20,0x24,0x40,0x42,0x80,0x81,0x00,0x06,0xC0,0x38,0x38,0x00,0x00,0x00,0x00,
"成",0x00,0xA0,0x00,0x90,0x00,0x80,0x7F,0xF8,0x40,0x80,0x40,0x90,0x7C,0x90,0x44,0x90,0x44,0xA0,0x44,0xA0,0x44,0x48,0x58,0xA8,0x41,0x18,0x82,0x08,0x00,0x00,0x00,0x00,
"功",0x01,0x00,0x01,0x00,0xF9,0x00,0x23,0xF0,0x21,0x10,0x21,0x10,0x21,0x10,0x21,0x10,0x21,0x10,0x39,0x10,0xC2,0x10,0x02,0x10,0x04,0x10,0x08,0x60,0x00,0x00,0x00,0x00,
"移",0x00,0x00,0x00,0x20,0x00,0x78,0x0C,0xE4,0x79,0x04,0x51,0x68,0x10,0x30,0x7E,0x60,0x19,0x98,0x1A,0x3C,0x2F,0xE4,0x48,0xE4,0x08,0x38,0x00,0x30,0x00,0x60,0x00,0x00,
"选",0x00,0x00,0x01,0x20,0x01,0x20,0x03,0xFC,0x62,0x20,0x34,0x20,0x04,0x20,0x03,0xFC,0x24,0x00,0x21,0xB0,0x21,0x20,0x22,0x20,0x32,0x3E,0x18,0x00,0x0F,0xE0,0x00,0x00,
"择",0x00,0x00,0x00,0x00,0x10,0xFC,0x13,0x04,0x11,0x0C,0x3D,0xF8,0x70,0x3E,0x10,0xD0,0x15,0x90,0x7C,0xF0,0x50,0x3E,0x18,0x10,0x1B,0xFE,0x02,0x30,0x00,0x20,0x00,0x00,
"项",0x00,0x00,0x00,0x00,0x03,0xFE,0x00,0x60,0x7C,0x40,0x12,0xFC,0x11,0x04,0x11,0x06,0x11,0x36,0x11,0x24,0x1F,0x44,0x79,0x44,0x00,0xC0,0x00,0x9C,0x01,0x86,0x00,0x00,
"目",0x00,0x00,0x00,0x00,0x0F,0xE0,0x3C,0x18,0x20,0x08,0x20,0x04,0x3E,0x04,0x60,0x04,0x60,0x04,0x7E,0x04,0x60,0x04,0x20,0x0C,0x20,0x08,0x1F,0xF0,0x01,0x80,0x00,0x00,
"短",0x00,0x00,0x08,0x00,0x11,0xFC,0x10,0x3E,0x3E,0xF8,0x2D,0x8C,0x29,0x04,0x49,0x04,0x09,0x04,0x3E,0x8C,0x50,0xFC,0x10,0x88,0x1E,0xC8,0x11,0xFC,0x10,0x0E,0x00,0x00,
"按",0x00,0x00,0x00,0x40,0x00,0x60,0x12,0xFE,0x13,0x02,0x3A,0x42,0x7F,0x44,0x10,0xC4,0x1B,0xFE,0x3C,0x98,0x71,0x90,0x11,0x30,0x11,0xA0,0x00,0x78,0x00,0x4C,0x00,0x00,
"确",0x00,0x00,0x00,0x40,0x00,0xF8,0x78,0xC4,0x1F,0x8C,0x31,0x38,0x21,0xEC,0x21,0x26,0x41,0x3A,0x7D,0xE2,0x27,0x22,0x25,0xFA,0x3D,0x26,0x01,0x24,0x01,0x04,0x00,0x00,
"定",0x00,0x00,0x01,0x00,0x01,0x70,0x5F,0xFC,0x70,0x04,0x20,0x04,0x2F,0xF8,0x01,0x00,0x11,0x00,0x11,0x38,0x21,0xC4,0x31,0x00,0x3F,0x00,0x63,0xE0,0x40,0x38,0x00,0x00,
"长",0x00,0x00,0x00,0x00,0x08,0x18,0x08,0x60,0x08,0xC0,0x0B,0x00,0x1E,0x00,0x18,0x1C,0x7F,0xF0,0x10,0x00,0x11,0x80,0x10,0xE0,0x18,0x38,0x09,0x8E,0x0F,0x00,0x00,0x00,
"按",0x00,0x00,0x00,0x40,0x00,0x60,0x12,0xFE,0x13,0x02,0x3A,0x42,0x7F,0x44,0x10,0xC4,0x1B,0xFE,0x3C,0x98,0x71,0x90,0x11,0x30,0x11,0xA0,0x00,0x78,0x00,0x4C,0x00,0x00,
"返",0x00,0x00,0x00,0x00,0x07,0xF8,0x06,0x00,0x24,0x00,0x14,0xF8,0x07,0x8C,0x04,0x04,0x24,0x08,0x26,0x18,0x25,0xF0,0x64,0x7C,0x64,0xC2,0x20,0x80,0x1F,0xC0,0x00,0x00,
"回",0x00,0x00,0x00,0x00,0x1F,0xF0,0x30,0x18,0x20,0x08,0x27,0x8C,0x2C,0x44,0x28,0x44,0x28,0x44,0x2C,0xC4,0x27,0x84,0x20,0x04,0x30,0x0C,0x1F,0xF8,0x03,0x80,0x00,0x00,
#endif
0x00,
};


u8 X_MAX_PIXEL=200;
u8 Y_MAX_PIXEL=176;

/************************************
函数名:QDtech_RS_Init
描述：QDtech_RS口初始化设置
输入：Pin(哪个针脚)
输出：无
样例：QDtech_RS_Init();//GPIOB,针脚11
***********************************/
void QDtech_RS_Init(void)
{
	gpio_init(QDtech_RS,3,0);
}
/************************************
函数名:QDtech_CS_Init
描述：QDtech_CS口初始化设置
输入：无
输出：无
样例：QDtech_RS_Init();//
***********************************/
void QDtech_CS_Init(void)
{
	gpio_init(QDtech_CS,3,0);
	//QDtech_CS=1;
	gpio_Setstate(QDtech_CS,1);
}
/************************************
函数名:QDtech_MOSI_Init
描述：QDtech_MOSI口初始化设置
输入：GPIOx(GPIOx)，GPIO_Pin(哪个针脚)
输出：无
样例：QDtech_MOSI_Init();//GPIOB,针脚15
***********************************/
void QDtech_MOSI_Init(void)
{
	gpio_init(QDtech_MOSI,3,0);
}
/************************************
函数名:QDtech_SCL_Init
描述：QDtech_SCL口初始化设置
输入：无
输出：无
样例：QDtech_RST_Init();
***********************************/
void QDtech_SCL_Init(void)
{
	//GPIO_init(GPIOx,GPIO_Pin,0,3);
	gpio_init(QDtech_SCL,3,0);
}
/************************************
函数名:QDtech_RST_Init
描述：QDtech_CS口初始化设置
输入：无
输出：无
样例：QDtech_RST_Init();
***********************************/
void QDtech_RST_Init(void)
{
	//GPIO_init(GPIOx,GPIO_Pin,0,3);
	gpio_init(QDtech_RST,3,0);
	//QDtech_RST=1;
	gpio_Setstate(QDtech_RST,1);
}
/************************************
函数名:QDtech_LED_Init
描述：QDtech_LED口初始化设置
输入：无
输出：无
样例：QDtech_RST_Init();
***********************************/
void QDtech_LED_Init(void)
{
	//GPIO_init(GPIOx,GPIO_Pin,0,3);
	gpio_init(QDtech_LED,3,0);
}
/****************************************************************************
* 名    称：void  SPIv_WriteData(u8 Data)
* 功    能：STM32_模拟SPI写一个字节数据底层函数
* 入口参数：Data
* 出口参数：无
* 说    明：STM32_模拟SPI读写一个字节数据底层函数
****************************************************************************/
void  SPIv_WriteData(u8 Data)
{
	unsigned char i=0;
	for(i=8;i>0;i--)
	{
		if(Data&0x80)	
	  //QDtech_MOSI=1; //输出数据
			gpio_Setstate(QDtech_MOSI,1);
    else 
			//QDtech_MOSI=0;
			gpio_Setstate(QDtech_MOSI,0);
		//QDtech_SCL=0; 
		gpio_Setstate(QDtech_SCL,0);
		//QDtech_SCL=1;
		gpio_Setstate(QDtech_SCL,1);
		Data<<=1; 
	}
}
 
/****************************************************************************
* 名    称：void QDtech_WriteIndex(SPI_TypeDef* SPIx,u8 Index)
* 功    能：向液晶屏写一个8位指令
* 入口参数：SPIx(哪个SPI) Index(寄存器地址)
* 出口参数：无
* 说    明：调用前需先选中控制器，内部函数
* 样    例：QDtech_WriteIndex(SPI2,0xff);//SPI2,寄存器地址0xff
****************************************************************************/
void QDtech_WriteIndex(u8 Index)
{
	//QDtech_CS=0;
	gpio_Setstate(QDtech_CS,0);
	//QDtech_RS=0;
	gpio_Setstate(QDtech_RS,0);
	SPIv_WriteData(Index);
	//QDtech_CS=1;
	gpio_Setstate(QDtech_CS,1);
}
/****************************************************************************
* 名    称：void QDtech_WriteData(SPI_TypeDef* SPIx,u8 Data)
* 功    能：向液晶屏写一个8位指令
* 入口参数：SPIx(哪个SPI) Data(寄存器数据)
* 出口参数：无
* 说    明：调用前需先选中控制器，内部函数
* 样    例：QDtech_WriteIndex(SPI2,0xff);//SPI2,寄存器数据0xff
****************************************************************************/
void QDtech_WriteData(u8 Data)
{
	//QDtech_CS=0;
	gpio_Setstate(QDtech_CS,0);
	//QDtech_RS=1;
	gpio_Setstate(QDtech_RS,1);
	SPIv_WriteData(Data);
	//QDtech_CS=0;
	gpio_Setstate(QDtech_CS,0);
}
/****************************************************************************
* 名    称：void QDtech_WriteData_16Bit(SPI_TypeDef* SPIx,u16 Data)
* 功    能：向液晶屏写一个16位数据
* 入口参数SSPIx(哪个SPI) Data(16位数据)
* 出口参数：无
* 说    明：向控制器指定地址写入一个16位数据
* 样    例：QDtech_WriteData_16Bit(SPI2,0xff00);//SPI2,寄存器16位数据0xff00
****************************************************************************/
void QDtech_WriteData_16Bit(u16 Data)
{	
	QDtech_WriteData(Data>>8);
	QDtech_WriteData(Data);	
}

/****************************************************************************
* 名    称：void QDtech_WriteReg(SPI_TypeDef* SPIx,u8 Index,u16 Data)
* 功    能：写寄存器数据
* 入口参数SSPIx(哪个SPI) Index,Data(16位)
* 出口参数：无
* 说    明：本函数为组合函数，向Index地址的寄存器写入Data值
* 样    例：QDtech_WriteReg(SPI2,0xff,0xff00);//SPI2,寄存器地址0xff,寄存器16位数据0xff00
****************************************************************************/
void QDtech_WriteReg(u8 Index,u16 Data)
{
	QDtech_WriteIndex(Index);
  	QDtech_WriteData_16Bit(Data);
}

/****************************************************************************
* 名    称：void Lcd_Reset(void)
* 功    能：液晶硬复位函数
* 入口参数：无
* 出口参数：无
* 说    明：液晶初始化前需执行一次复位操作
****************************************************************************/
void QDtech_Reset(void)
{
	//QDtech_RST=0;
	gpio_Setstate(QDtech_RST,0);
	delay_ms(100);
	//QDtech_RST=1;
	gpio_Setstate(QDtech_RST,1);
	delay_ms(50);
}

/****************************************************************************
* 名    称：QDtech_Init(int left_right_side)
* 功    能：QDtech显示屏初始化
* 入口参数：left_right_side(1为横屏,0为竖屏)
* 出口参数：无
* 样    例：QDtech_Init(1)
LED为PB12口(同下),横屏

****************************************************************************/
void QDtech_Init(int left_right_side)
{
	QDtech_LED_Init();
	QDtech_SCL_Init();
	QDtech_MOSI_Init();
	QDtech_RS_Init();
	QDtech_RST_Init();
	QDtech_CS_Init();
	QDtech_Reset(); //Reset before LCD Init.

	//LCD Init For 2.2inch LCD Panel with ILI9225.	
	QDtech_WriteReg(0x10, 0x0000); // Set SAP,DSTB,STB
	QDtech_WriteReg(0x11, 0x0000); // Set APON,PON,AON,VCI1EN,VC
	QDtech_WriteReg(0x12, 0x0000); // Set BT,DC1,DC2,DC3
	QDtech_WriteReg(0x13, 0x0000); // Set GVDD
	QDtech_WriteReg(0x14, 0x0000); // Set VCOMH/VCOML voltage
	delay_ms(40); // Delay 20 ms
	
	// Please follow this power on sequence
	QDtech_WriteReg(0x11, 0x0018); // Set APON,PON,AON,VCI1EN,VC
	QDtech_WriteReg(0x12, 0x1121); // Set BT,DC1,DC2,DC3
	QDtech_WriteReg(0x13, 0x0063); // Set GVDD
	QDtech_WriteReg(0x14, 0x3961); // Set VCOMH/VCOML voltage
	QDtech_WriteReg(0x10, 0x0800); // Set SAP,DSTB,STB
	delay_ms(10); // Delay 10 ms
	QDtech_WriteReg(0x11, 0x1038); // Set APON,PON,AON,VCI1EN,VC
	delay_ms(30); // Delay 30 ms
	
	
	QDtech_WriteReg(0x02, 0x0100); // set 1 line inversion

	if(left_right_side)
	{
		Left_Right_Side=1;
		X_MAX_PIXEL=220;
		Y_MAX_PIXEL=176;
		//R01H:SM=0,GS=0,SS=0 (for details,See the datasheet of ILI9225)
		QDtech_WriteReg(0x01, 0x001C); // set the display line number and display direction
		//R03H:BGR=1,ID0=1,ID1=1,AM=1 (for details,See the datasheet of ILI9225)
		QDtech_WriteReg(0x03, 0x1038); // set GRAM write direction .
	}
	else
	{
		Left_Right_Side=0;
		X_MAX_PIXEL=176;
		Y_MAX_PIXEL=220;
		//R01H:SM=0,GS=0,SS=1 (for details,See the datasheet of ILI9225)
		QDtech_WriteReg(0x01, 0x011C); // set the display line number and display direction 
		//R03H:BGR=1,ID0=1,ID1=1,AM=0 (for details,See the datasheet of ILI9225)
		QDtech_WriteReg(0x03, 0x1030); // set GRAM write direction.
	}

	QDtech_WriteReg(0x07, 0x0000); // Display off
	QDtech_WriteReg(0x08, 0x0808); // set the back porch and front porch
	QDtech_WriteReg(0x0B, 0x1100); // set the clocks number per line
	QDtech_WriteReg(0x0C, 0x0000); // CPU interface
	QDtech_WriteReg(0x0F, 0x0501); // Set Osc
	QDtech_WriteReg(0x15, 0x0020); // Set VCI recycling
	QDtech_WriteReg(0x20, 0x0000); // RAM Address
	QDtech_WriteReg(0x21, 0x0000); // RAM Address
	
	//------------------------ Set GRAM area --------------------------------//
	QDtech_WriteReg(0x30, 0x0000); 
	QDtech_WriteReg(0x31, 0x00DB); 
	QDtech_WriteReg(0x32, 0x0000); 
	QDtech_WriteReg(0x33, 0x0000); 
	QDtech_WriteReg(0x34, 0x00DB); 
	QDtech_WriteReg(0x35, 0x0000); 
	QDtech_WriteReg(0x36, 0x00AF); 
	QDtech_WriteReg(0x37, 0x0000); 
	QDtech_WriteReg(0x38, 0x00DB); 
	QDtech_WriteReg(0x39, 0x0000); 
	
	
	// ---------- Adjust the Gamma 2.2 Curve -------------------//
	QDtech_WriteReg(0x50, 0x0603); 
	QDtech_WriteReg(0x51, 0x080D); 
	QDtech_WriteReg(0x52, 0x0D0C); 
	QDtech_WriteReg(0x53, 0x0205); 
	QDtech_WriteReg(0x54, 0x040A); 
	QDtech_WriteReg(0x55, 0x0703); 
	QDtech_WriteReg(0x56, 0x0300); 
	QDtech_WriteReg(0x57, 0x0400); 
	QDtech_WriteReg(0x58, 0x0B00); 
	QDtech_WriteReg(0x59, 0x0017); 
	
	
	
	QDtech_WriteReg(0x0F, 0x0701); // Vertical RAM Address Position
	QDtech_WriteReg(0x07, 0x0012); // Vertical RAM Address Position
	delay_ms(50); // Delay 50 ms
	QDtech_WriteReg(0x07, 0x1017); // Vertical RAM Address Position
}

/*************************************************
函数名：LCD_Set_XY
功能：设置lcd显示起始点
入口参数：xy坐标
返回值：无
*************************************************/
void QDtech_SetXY(u16 Xpos, u16 Ypos)
{	
	if(Left_Right_Side)//如果定义了横屏  
	{		
		QDtech_WriteReg(0x21,Xpos);
		QDtech_WriteReg(0x20,Ypos);
	}
	else
	{
		QDtech_WriteReg(0x20,Xpos);
		QDtech_WriteReg(0x21,Ypos);
	}
	QDtech_WriteIndex(0x22);		
} 
/*************************************************
函数名：LCD_Set_Region
功能：设置lcd显示区域，在此区域写点数据自动换行
入口参数：xy起点和终点
返回值：无
*************************************************/
//设置显示窗口
void QDtech_SetRegion(u8 xStar, u8 yStar,u8 xEnd,u8 yEnd)
{
	if(Left_Right_Side)//如果定义了横屏
	{		
		QDtech_WriteReg(0x38,xEnd);
		QDtech_WriteReg(0x39,xStar);
		QDtech_WriteReg(0x36,yEnd);
		QDtech_WriteReg(0x37,yStar);
		QDtech_WriteReg(0x21,xStar);
		QDtech_WriteReg(0x20,yStar);
	}
	else
	{
		QDtech_WriteReg(0x36,xEnd);
		QDtech_WriteReg(0x37,xStar);
		QDtech_WriteReg(0x38,yEnd);
		QDtech_WriteReg(0x39,yStar);
		QDtech_WriteReg(0x20,xStar);
		QDtech_WriteReg(0x21,yStar);
	}
	QDtech_WriteIndex(0x22);	
}

	
/*************************************************
函数名：LCD_DrawPoint
功能：画一个点
入口参数：xy坐标和颜色数据
返回值：无
*************************************************/
void QDtech_Gui_DrawPoint(u16 x,u16 y,u16 Data)
{
	QDtech_SetXY(x,y);
	QDtech_WriteData_16Bit(Data);

}    

/*************************************************
函数名：Lcd_Clear
功能：全屏清屏函数
入口参数：填充颜色COLOR
返回值：无
*************************************************/
void QDtech_Lcd_Clear(u16 Color)               
{	
   unsigned int i,m;
   QDtech_SetRegion(0,0,X_MAX_PIXEL-1,Y_MAX_PIXEL-1);
   for(i=0;i<X_MAX_PIXEL;i++)
    for(m=0;m<Y_MAX_PIXEL;m++)
    {	
	  	QDtech_WriteData_16Bit(Color);
    }   
}

/*************************************************
函数名：QDtech_Gui_DrawStraight_Line
功能：画直线
入口参数：xStar,yStar(起点x,y位置),xEnd,yEnd(终点x,y位置),Color(直线颜色)
返回值：无
*************************************************/
void QDtech_Gui_DrawStraight_Line(u16 xStar, u16 yStar,u16 xEnd, u16 yEnd,u16 Color)               
{	
	int i;
	float x=xStar,y=yStar,dx=xEnd-xStar,dy=yEnd-yStar;
	if(dx==0)
	{
		for(i=0;i<dy;i++)
			QDtech_Gui_DrawPoint(x,y++,Color);
	}
	else
	{
		float k=dy/dx;
		if(k>1||k<-1)
		{
			k=dx/dy;
			for(y=yStar;y<=yEnd;y++)
			{ 
				QDtech_Gui_DrawPoint((int)x+0.5,(int)y,Color);
				x=x+k;
			}
		}
		else
		{
			for(x=xStar;x<=xEnd;x++)
			{ 
				QDtech_Gui_DrawPoint((int)x,(int)y+0.5,Color);
				y=y+k;
			}
		}
	}
}

/*************************************************
函数名：Gui_DrawFont_GBK16
功能：显示中英文
入口参数：x(x轴位置),y(y轴位置),fc(文字颜色),bc(文字背景底色),*s(显示的字符串)
返回值：无
样例：Gui_DrawFont_GBK16(0,100,BLUE,GRAY0,"123456789")
在(0,100)显示字体为蓝色，底色为灰色的123456789
*************************************************/

void QDtech_Gui_DrawFont_GBK16(u16 x, u16 y, u16 fc, u16 bc, u8 *s)
{
	unsigned char i,j;
	unsigned short k,x0;
	x0=x;

	while(*s) 
	{	
		if((*s) < 128) 
		{
			k=*s;
			if (k==13) 
			{
				x=x0;
				y+=16;
			}
			else 
			{
				if (k>32) k-=32; else k=0;
	
			    for(i=0;i<16;i++)
				for(j=0;j<8;j++) 
					{
				    	if(asc16[k*16+i]&(0x80>>j))	QDtech_Gui_DrawPoint(x+j,y+i,fc);
						else 
						{
							if (fc!=bc) QDtech_Gui_DrawPoint(x+j,y+i,bc);
						}
					}
				x+=8;
			}
			s++;
		}
			
		else 
		{
		

			for (k=0;k<hz16_num;k++) 
			{
			  if ((hz16[k].Index[0]==*(s))&&(hz16[k].Index[1]==*(s+1)))
			  { 
				    for(i=0;i<16;i++)
				    {
						for(j=0;j<8;j++) 
							{
						    	if(hz16[k].Msk[i*2]&(0x80>>j))	QDtech_Gui_DrawPoint(x+j,y+i,fc);
								else {
									if (fc!=bc) QDtech_Gui_DrawPoint(x+j,y+i,bc);
								}
							}
						for(j=0;j<8;j++) 
							{
						    	if(hz16[k].Msk[i*2+1]&(0x80>>j))	QDtech_Gui_DrawPoint(x+j+8,y+i,fc);
								else 
								{
									if (fc!=bc) QDtech_Gui_DrawPoint(x+j+8,y+i,bc);
								}
							}
				    }
				}
			  }
			s+=2;x+=16;
		} 
		
	}
}



